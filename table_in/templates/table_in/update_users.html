{% extends 'table_in/base.html' %}

{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'home_page' %}">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-house-fill" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
                d="M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
            <path fill-rule="evenodd"
                d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z" />
        </svg>
    </a></li>
<li class="breadcrumb-item"><a href="{% url 'list_users_url' %}">Список пользователей</a></li>
<li class="breadcrumb-item active" aria-current="page">Редактировать</li>
{% endblock breadcrumb %}

{% block content %}
<h5 class="cover-heading pb-3 pt-2">Обновить профили сотрудников!</h5>
    <form action="{{ list_users_edit_url }}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{form.as_p}}
        <!-- {% if form.image %}
            <h3>{{form.image}}</h3>
            <img src="{{ 'form.image.url' }}" alt="connect" style="max-height:300px">
        {% endif %} -->
        <p>-------------</p>

        <!-- {% for field in form %}
        <div class="form-group">
            {% if field.errors %}
            <div class="alert alert-danger" role="alert">{{ field.errors }}</div>
            {% endif %}
    
            {{ field }}
        </div>
        {% endfor %} -->
        
        <div style="text-align: right;">
            <a href="{% url 'users_delete_url' pk=tableusers.pk %}" class="btn btn-danger btn-sm" role="button">Удалить</a>
            <button type="submit" class="btn btn-outline-primary btn-sm active">Сохранить</button>
            <a href="{% url 'list_users_url' %}" class="btn btn-outline-secondary btn-sm" role="button"
                aria-pressed="true">Назад</a>
        </div>
        
    </form>
{% endblock content %}

{% block footer_scripts %}
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
<script type="text/javascript">
    $(function () {

        $('input[name="user_medical_date_range"]').daterangepicker({
            autoUpdateInput: false,
            opens: 'center',
            'locale': {
                cancelLabel: 'Очистить',
                "applyLabel": "Применить",
                "format": "DD.MM.YY",
                "daysOfWeek": [
                    "Вс",
                    "Пн",
                    "Вт",
                    "Ср",
                    "Чт",
                    "Пт",
                    "Сб"
                ],
                "monthNames": [
                    "Январь",
                    "Февраль",
                    "Март",
                    "Апрель",
                    "Май",
                    "Июнь",
                    "Июль",
                    "Август",
                    "Сентябрь",
                    "Октябрь",
                    "Ноябрь",
                    "Декабрь"
                ],
                firstDay: 1
            }
        });

        $('input[name="user_medical_date_range"]').on('apply.daterangepicker', function (ev, picker) {
            $(this).val(picker.startDate.format('DD.MM.YY') + ' - ' + picker.endDate.format('DD.MM.YY'));
        });

        $('input[name="user_medical_date_range"]').on('cancel.daterangepicker', function (ev, picker) {
            $(this).val('');
        });

    });
</script>
<script type="text/javascript">
    $(function () {

        $('input[name="user_date_range"]').daterangepicker({
            autoUpdateInput: false,
            opens: 'center',
            'locale': {
                cancelLabel: 'Очистить',
                "applyLabel": "Применить",
                "format": "DD.MM.YY",
                "daysOfWeek": [
                    "Вс",
                    "Пн",
                    "Вт",
                    "Ср",
                    "Чт",
                    "Пт",
                    "Сб"
                ],
                "monthNames": [
                    "Январь",
                    "Февраль",
                    "Март",
                    "Апрель",
                    "Май",
                    "Июнь",
                    "Июль",
                    "Август",
                    "Сентябрь",
                    "Октябрь",
                    "Ноябрь",
                    "Декабрь"
                ],
                firstDay: 1
            }
        });

        $('input[name="user_date_range"]').on('apply.daterangepicker', function (ev, picker) {
            $(this).val(picker.startDate.format('DD.MM.YY') + ' - ' + picker.endDate.format('DD.MM.YY'));
        });

        $('input[name="user_date_range"]').on('cancel.daterangepicker', function (ev, picker) {
            $(this).val('');
        });

    });
</script>
<style>
    .daterangepicker {
        background-color: #222;
        border: 1px solid;
    }

    .daterangepicker .calendar-table {
        border: none;
        background-color: #222 !important;
    }

    .cancelBtn {
        color: #FF5722;
    }

    .cancelBtn:hover {
        color: orangered;
    }

    .daterangepicker td.off,
    .daterangepicker td.off.in-range,
    .daterangepicker td.off.start-date,
    .daterangepicker td.off.end-date {
        background-color: #222;
        color: #666;
    }

    .daterangepicker td.active,
    .daterangepicker td.active:hover {
        color: #000;
    }
</style>
{% endblock footer_scripts %}